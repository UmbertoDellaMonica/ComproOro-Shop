<section class="text-gray-600 body-font relative">
  <div class="container px-5 py-10 mx-auto">
    <div class="text-left mb-12">
      <h1 class="text-4xl font-medium title-font text-gray-900 mb-4">Raggiungici</h1>
      <p class="text-base text-left leading-relaxed xl:w-2/4 lg:w-3/4 mx-left text-gray-500">Trova il nostro negozio con
        facilit√† utilizzando la mappa e i dettagli di contatto qui sotto. Siamo sempre pronti ad accoglierti.</p>
    </div>
    <div class="flex sm:flex-nowrap flex-wrap">
      <div
        class="lg:w-2/3 md:w-1/2 bg-gray-300 rounded-lg overflow-hidden sm:mr-10 p-10 flex items-end justify-start relative shadow-2xl hover:shadow-lg transition-shadow duration-300"
        style="height: 600px;">
        <iframe [src]="mapUrl" width="100%" height="100%" class="absolute inset-0" frameborder="0"
          title="Posizione ComproOro Castel SanGiorgio" marginheight="0" marginwidth="0" scrolling="no"
          style="filter: brightness(1) contrast(1) opacity(1);"></iframe>
        <div class="bg-white relative flex flex-wrap py-6 rounded shadow-md">
          <div class="lg:w-1/2 px-6">
            <h2 class="title-font font-semibold text-gray-900 tracking-widest text-xs">Indirizzo</h2>
            <p class="mt-1">Via Antonio Rescigno, 48, Castel San Giorgio (SA)</p>
            <a href="https://www.google.com/maps/dir/?api=1&destination=Via+Antonio+Rescigno,+48,+Castel+San+Giorgio+(SA)"
              target="_blank"
              class="mt-4 inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"
              rel="noopener">
              Richiedi Indicazioni
            </a>
          </div>
          <div class="lg:w-1/2 px-6 mt-4 lg:mt-0">
            <h2 class="title-font font-semibold text-gray-900 tracking-widest text-xs">Email</h2>
            <app-compro-oro-email></app-compro-oro-email>
            <h2 class="title-font font-semibold text-gray-900 tracking-widest text-xs mt-4">Telefono</h2>
            <app-compro-oro-number></app-compro-oro-number>
          </div>
        </div>
      </div>
      <!-- Form per il feedback -->
      <div class="lg:w-1/3 md:w-1/2 bg-white rounded-lg p-8 flex flex-col w-full mb-10 md:mb-0 relative z-10 shadow-2xl hover:shadow-lg transition-shadow duration-300">
        <h2 class="text-gray-900 text-lg mb-1 font-medium title-font">Feedback</h2>
        <p class="leading-relaxed mb-5 text-gray-600">Lascia un feedback per il servizio ricevuto!</p>

        <!-- Campo Email -->
        <div class="relative mb-4">
          <label for="email" required pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$" class="leading-7 text-sm text-gray-600">Email</label>
          <input type="email" id="email" name="email" [(ngModel)]="feedback.email" pattern="Inserisci qui la tua mail ..."
            class="w-full bg-white rounded border border-gray-300 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
        </div>

        <!-- Campo Messaggio -->
        <div class="relative mb-4">
          <label for="message" class="leading-7 text-sm text-gray-600">Messaggio</label>
          <textarea id="message" name="message" [(ngModel)]="feedback.message" pattern="Inserisci qui il tuo messaggio..."
            class="w-full bg-white rounded border border-gray-300 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 h-32 text-base outline-none text-gray-700 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"></textarea>
        </div>

        <!-- Toast per il messaggio di errore -->
        <div *ngIf="showToast" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white py-2 px-4 rounded-lg shadow-lg opacity-90">
          <p>{{ errorMessage }}</p>
        </div>


        <!-- Bottone di invio -->
        <button (click)="submitFeedback()"
          class="text-white bg-yellow-500 border-0 py-2 px-6 focus:outline-none hover:bg-yellow-600 rounded text-lg"
          [attr.disabled]="!feedback.email || !feedback.message ? true : null">
          Invia Feedback
        </button>
      </div>
    </div>
  </div>
</section>

